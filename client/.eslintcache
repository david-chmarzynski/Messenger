[{"/home/david/Dev/Messenger/client/src/Components/Contact/Contact.Styled.js":"1","/home/david/Dev/Messenger/client/src/Components/App/App.js":"2","/home/david/Dev/Messenger/client/src/Components/Message/Message.Styled.js":"3","/home/david/Dev/Messenger/client/src/reportWebVitals.js":"4","/home/david/Dev/Messenger/client/src/Components/Sign/Sign.Styled.js":"5","/home/david/Dev/Messenger/client/src/index.js":"6","/home/david/Dev/Messenger/client/src/Components/Sign/Sign.js":"7","/home/david/Dev/Messenger/client/src/Components/Message/Message.js":"8","/home/david/Dev/Messenger/client/src/Components/Contact/Contact.js":"9"},{"size":2178,"mtime":1611041019820,"results":"10","hashOfConfig":"11"},{"size":3806,"mtime":1611060336000,"results":"12","hashOfConfig":"11"},{"size":3244,"mtime":1611061159080,"results":"13","hashOfConfig":"11"},{"size":362,"mtime":1610718148770,"results":"14","hashOfConfig":"11"},{"size":1688,"mtime":1610966593310,"results":"15","hashOfConfig":"11"},{"size":515,"mtime":1610718148770,"results":"16","hashOfConfig":"11"},{"size":4250,"mtime":1610971746400,"results":"17","hashOfConfig":"11"},{"size":3171,"mtime":1611060873200,"results":"18","hashOfConfig":"11"},{"size":2290,"mtime":1611060377270,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"teoads",{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/david/Dev/Messenger/client/src/Components/Contact/Contact.Styled.js",[],"/home/david/Dev/Messenger/client/src/Components/App/App.js",["39"],"import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport io from 'socket.io-client';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\n// IMPORT COMPONENTS\nimport Contact from '../Contact/Contact';\nimport Message from '../Message/Message';\nimport Sign from '../Sign/Sign';\n\n// SOCKETS\nlet ios;\nlet messenger;\n\nconst App = () => {\n  // STATES\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [repeatPassword, setRepeatPassword] = useState('');\n  const [isOnline, setIsOnline] = useState(false);\n  const [userId, setUserId] = useState('');\n  const [error, setError] = useState(false);\n  const [alert, setAlert] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('Erreur');\n  const [alertMessage, setAlertMessage] = useState('');\n  const [onlineUsers, setOnlineUsers] = useState();\n  const [roomId, setRoomId] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState('');\n\n  // INIT SOCKET.IO\n  useEffect(() => {\n    ios = io();\n  }, []);\n\n  // CONNECT CHATROOM NAMESPACE\n  useEffect(() => {\n    if(isOnline) {\n      messenger = io('/messenger');\n\n      messenger.on('connect', () => {\n\n        messenger.on('getUsers', (res) => {\n          setOnlineUsers(res);\n        });\n\n        messenger.on('getMessages', (res) => {\n          setMessages(res);\n        });\n      });\n    }\n  }, [isOnline]);\n\n  const signin = (e) => {\n    e.preventDefault();\n    const ids = {username, password};\n    ios.emit('signin', ids, (res) => {\n      if(res.status === 200) {\n        setIsOnline(true);\n        setUserId(res.user_id);\n        setAlert(true);\n        setAlertMessage(res.message);\n      } else {\n        setError(true);\n        setErrorMessage(res.message);\n      }\n    });\n  };\n\n  const signup = (e) => {\n    e.preventDefault();\n    if(password === repeatPassword) {\n      const ids = {username, password};\n      ios.emit('signup', ids, (res) => {\n        if(res.status === 200) {\n          setAlert(true);\n          setAlertMessage(res.message);\n        } else {\n          setError(true);\n          setErrorMessage(res.message);\n        }\n      });\n    } else {\n      setError(true);\n      setErrorMessage('Les mots de passe ne correspondent pas');\n    }\n  };\n\n  const joinRoom = (e) => {\n    e.preventDefault();\n    const id = e.currentTarget.id;\n    const ids = {userId, id};\n    messenger.emit('joinRoom', ids, (res) => {\n      setRoomId([res.roomId]);\n      setMessages(res.messages);\n    });\n  };\n\n  const sendMessage = (e) => {\n    e.preventDefault();\n    const datas = {message, userId, roomId};\n    messenger.emit('sendMessage', datas, (res) => {\n      setMessage('');\n    });\n  };\n  return (\n    <Router>\n    <div id=\"App\">\n      {!isOnline && (\n        <Sign\n          signin={signin}\n          signup={signup}\n          setUsername={setUsername}\n          username={username}\n          setPassword={setPassword}\n          password={password}\n          setRepeatPassword={setRepeatPassword}\n          repeatPassword={repeatPassword}\n          error={error}\n          setError={setError}\n          errorMessage={errorMessage}\n          alert={alert}\n          setAlert={setAlert}\n          alertMessage={alertMessage}\n        />\n      )}\n      {isOnline && (\n        <>\n        <Contact onlineUsers={onlineUsers} joinRoom={joinRoom} userId={userId} />\n        {roomId && (\n          roomId.map(room => (\n            <Message\n              roomId={room}\n              messages={messages}\n              userId={userId}\n              sendMessage={sendMessage}\n              message={message}\n              setMessage={setMessage}\n            />\n          ))\n        )}\n        </>\n      )}\n\n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n","/home/david/Dev/Messenger/client/src/Components/Message/Message.Styled.js",[],"/home/david/Dev/Messenger/client/src/reportWebVitals.js",[],"/home/david/Dev/Messenger/client/src/Components/Sign/Sign.Styled.js",[],"/home/david/Dev/Messenger/client/src/index.js",[],"/home/david/Dev/Messenger/client/src/Components/Sign/Sign.js",[],"/home/david/Dev/Messenger/client/src/Components/Message/Message.js",[],"/home/david/Dev/Messenger/client/src/Components/Contact/Contact.js",[],{"ruleId":"40","severity":1,"message":"41","line":4,"column":35,"nodeType":"42","messageId":"43","endLine":4,"endColumn":40},"no-unused-vars","'Route' is defined but never used.","Identifier","unusedVar"]